<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="创建版本库(repository)$ mkdir learngit 建目录$ cd learngit$ git init  将该目录变成git可以管理的目录  
在learngit目录下新建个文件readme.txt,在里面写点东西  
$ git add readme.txt  添加到 缓存区$ git commit -m &amp;quot;information&amp;quot;  提交给 分支$ git">
<meta property="og:type" content="article">
<meta property="og:title" content="git 笔记">
<meta property="og:url" content="http://yoursite.com/2016/07/28/git-note/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="创建版本库(repository)$ mkdir learngit 建目录$ cd learngit$ git init  将该目录变成git可以管理的目录  
在learngit目录下新建个文件readme.txt,在里面写点东西  
$ git add readme.txt  添加到 缓存区$ git commit -m &amp;quot;information&amp;quot;  提交给 分支$ git">
<meta property="og:updated_time" content="2016-08-02T06:54:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git 笔记">
<meta name="twitter:description" content="创建版本库(repository)$ mkdir learngit 建目录$ cd learngit$ git init  将该目录变成git可以管理的目录  
在learngit目录下新建个文件readme.txt,在里面写点东西  
$ git add readme.txt  添加到 缓存区$ git commit -m &amp;quot;information&amp;quot;  提交给 分支$ git">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2016/07/28/git-note/"/>

  <title> git 笔记 | Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Hexo</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                git 笔记
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-28T16:06:56+08:00" content="2016-07-28">
              2016-07-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/28/git-note/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/07/28/git-note/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="创建版本库-repository"><a href="#创建版本库-repository" class="headerlink" title="创建版本库(repository)"></a>创建版本库(repository)</h3><p><code>$ mkdir learngit</code> 建目录<br><code>$ cd learngit</code><br><code>$ git init</code>  将该目录变成git可以管理的目录  </p>
<p>在learngit目录下新建个文件readme.txt,在里面写点东西  </p>
<p><code>$ git add readme.txt</code>  添加到 <strong>缓存区</strong><br><code>$ git commit -m &quot;information&quot;</code>  提交给 <strong>分支</strong><br><code>$ git status</code> 查看仓库状态<br><code>$ git diff readme.txt</code> 查看修改内容  </p>
<h3 id="时光穿梭"><a href="#时光穿梭" class="headerlink" title="时光穿梭"></a>时光穿梭</h3><p><code>$ git log</code> 查看 <strong>提交</strong> 记录<br><code>$ git reflog</code> 查看 <strong>命令</strong> 历史记录  </p>
<p><code>$ git reset --hard head^</code> 退回 <strong>上次</strong> 提交的版本<br><code>$ git reset --hard 342346264</code> 退回 <strong>指定</strong> 版本   </p>
<h5 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h5><p><code>$ git checkout -- readme.txt</code> 撤销 <strong>工作区</strong> 的修改<br><code>$ git reset HEAD readme.txt</code> 撤销 <strong>缓存区</strong> 的修改<br><code>$ git reset --hard HEAD^</code> <strong>版本回退</strong>  </p>
<p><code>$ git rm test.txt</code> 删除文件 <strong>（工作区）</strong><br><code>$ git checkout -- test.txt</code> 恢复删除的文件  </p>
<h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><p><code>$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</code> 创建 SSH Key<br>Github 进入 “SSH Key” 页面，点“add ssh key” ,填title，将 <code>id_rsa.pub</code> 的内容粘贴到 <strong>key</strong> 文本框里。<br><code>$ git remote add origin git@github.com:yourname/learngit.git</code> 在本地目录下关联远程库<br><code>$ git push -u origin master</code> 第一次推送要加 “-u”<br><code>$ git push origin master</code><br><strong>注</strong>： 第一次使用git的 <code>clone</code> 或 <code>push</code> 命令连接Github，会有个警告，输入 <code>yes</code> 即可。      </p>
<p><strong>最好的方式</strong> 是：从远程库 <code>clone</code> .   </p>
<ol>
<li>在Github上新建个仓库  </li>
<li><code>$ git clone git@github.com:michaelliao/仓库名.git</code> 克隆到本地   </li>
</ol>
<p><strong>注：</strong> Github 给出的地址不止一个，还可以用 <code>https://github.com/qinzhihao/clone-test.git</code> , 默认的 <code>git://</code> 使用ssh，速度快；而 <code>https</code> 协议慢，有些公司不支持ssh协议，只能用 <code>https</code>。  </p>
<h3 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h3><p><strong>分支提交前，要先将上级分支合并到该分支，确保是针对主分支的最新版本库进行的提交</strong></p>
<h5 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h5><p><code>$ git checkout -b dev</code>  创建并切换到dev分支  相当于两条命令： <code>git branch dev / git checkout dev</code><br><code>$ git branch</code>  查看分支情况<br><code>$ git checkout 分支名</code>  切换到分支<br><code>$ git checkout master</code>  切换回 <code>master</code> 主分支<br><code>$ git merge dev</code>  把dev分支的工作成果合并到 master 分支上。<br><code>$ git branch -d dev</code>  删除dev分支   </p>
<h5 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h5><p><strong>注：</strong> 分支和分支的分支都修改后，合并时会出现冲突，需要手动修改，然后提交。<br><code>$ git log --graph</code> 查看分支合并图  </p>
<h5 id="分支管理策略"><a href="#分支管理策略" class="headerlink" title="分支管理策略"></a>分支管理策略</h5><ol>
<li>下级分支必须依托最新版本的上级分支，即：每一个最新的版本库文件。  </li>
<li><code>Fast forward</code> 模式，将主分支的指针直接指向次级分支的版本，不保留合并历史。    </li>
<li>普通模式： <code>git maege --no-ff -m &quot;&quot; dev</code>,保留合并历史。  </li>
</ol>
<h5 id="储藏现场"><a href="#储藏现场" class="headerlink" title="储藏现场"></a>储藏现场</h5><p><strong>注：</strong> <strong>每次提交都是一个新的版本，所以，如果工作没完成不要提交，否则会给其他人造成困扰，因为，他们要提交时，必须先合并你提交后的主分支版本，而，你的是未完成的工作，别人怎么能搞懂。</strong>  </p>
<p>所以，如果某个分支上的任务未完成时，需要去其他分支工作，那么就需要先储藏当前分支的工作。  </p>
<p><code>$ git stash</code><br><code>$ git stash list</code><br><code>$ git stash pop</code>  恢复并删除储藏的内容<br><code>$ git stash apply</code>  恢复但不删除stash内容   </p>
<h5 id="Feature-分支"><a href="#Feature-分支" class="headerlink" title="Feature 分支"></a>Feature 分支</h5><p><strong>注：</strong> 新建分支Feature，不与主分支合并，直接取消、删除。此时需切回主分支删除Feature分支。<br><code>$ git branch -d Feature</code>  删除失败，提示未合并<br><code>$ git branch -D Feature</code>  强行删除。  </p>
<h5 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h5><p><code>$ git remote</code> 产看远程库信息  <code>$ git remote -v</code> 查看远程库详细信息   </p>
<p><strong>推送分支</strong>：<br><code>$ git push origin master</code> 推送主分支（用于版本发布）<br><code>$ git push origin dev</code>  推送开发分支（团队在这工作）</p>
<p><strong>删除远程分支</strong>：<br><code>$ git push origin :dev</code> 删除远程分支dev  </p>
<p><strong>抓取分支</strong>：<br><code>$ git clone git@github.com:use-name/learngit.git</code> 克隆远程库，默认只有master分支<br><code>$ git checkout -b dev origin/dev</code> 创建远程 <code>dev</code> 分支到本地<br><code>$ git branch --set-upstream-to=origin/dev dev</code> 指定本地dev分支和远程dev分支的链接<br><code>$ git pull</code> 抓取远程新的提交，如有冲突，像合并分支一样处理。<br><code>$ git ls-remote --heads origin</code> 查看远程分支情况   </p>
<h3 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h3><h5 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h5><p><code>$ git tag v1.0</code> 创建一个新标签<br><code>$ git tag</code>  查看所有标签<br><code>$ git tag v0.8 版本id</code> 指定某版本的标签<br><code>$ git show 标签名</code> 查看标签信息<br><code>$ git tag -a v0.4 -m &quot;说明文字&quot; 版本ID</code> 创建带有说明的标签<br><code>$ git tag -s v0.4 -m &quot;说明文字&quot; 版本ID</code> 创建带有私钥签名的标签    </p>
<h5 id="操作标签"><a href="#操作标签" class="headerlink" title="操作标签"></a>操作标签</h5><p><code>$ git tag -d v0.4</code> 删除标签<br><code>$ git push origin v0.4</code> 推送某个标签到远程<br><code>$ git push origin --tags</code> 推送全部标签到远程<br>删除远程标签：<br><code>$ git tag -d v0.4</code> 先删除本地标签<br><code>$ git push origin :refs/tags/v0.4</code>  从远程删除  </p>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.jpg" alt="qinzhihao wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的二维码，订阅我的微信公众号！</div>
</div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/07/24/weichat-stylesheets/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/30/css-notes/" rel="prev" title="CSS 笔记">
                CSS 笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/thinking.jpg"
               alt="qinzhihao" />
          <p class="site-author-name" itemprop="name">qinzhihao</p>
          <p class="site-description motion-element" itemprop="description">think thinking and reflect</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://qinzhihao.github.io" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/qin_zhihao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建版本库-repository"><span class="nav-number">1.</span> <span class="nav-text">创建版本库(repository)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#时光穿梭"><span class="nav-number">2.</span> <span class="nav-text">时光穿梭</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#撤销修改"><span class="nav-number">2.0.1.</span> <span class="nav-text">撤销修改</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#远程仓库"><span class="nav-number">3.</span> <span class="nav-text">远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分支管理"><span class="nav-number">4.</span> <span class="nav-text">分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#创建与合并分支"><span class="nav-number">4.0.1.</span> <span class="nav-text">创建与合并分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#解决冲突"><span class="nav-number">4.0.2.</span> <span class="nav-text">解决冲突</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#分支管理策略"><span class="nav-number">4.0.3.</span> <span class="nav-text">分支管理策略</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#储藏现场"><span class="nav-number">4.0.4.</span> <span class="nav-text">储藏现场</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Feature-分支"><span class="nav-number">4.0.5.</span> <span class="nav-text">Feature 分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#多人协作"><span class="nav-number">4.0.6.</span> <span class="nav-text">多人协作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#标签管理"><span class="nav-number">5.</span> <span class="nav-text">标签管理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#创建标签"><span class="nav-number">5.0.1.</span> <span class="nav-text">创建标签</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#操作标签"><span class="nav-number">5.0.2.</span> <span class="nav-text">操作标签</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">qinzhihao</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'qinzhihao';
      var disqus_identifier = '2016/07/28/git-note/';
      var disqus_title = "git 笔记";
      var disqus_url = 'http://yoursite.com/2016/07/28/git-note/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  




  
  

  

  

  

</body>
</html>
